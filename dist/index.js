import{a as L,i as h,S as w}from"./assets/vendor-YT4DRQk6.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function a(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=a(t);fetch(t.href,r)}})();async function f(e,o=1,a=15){const n="47684004-d700c1255eaadac249fdd5630",t="https://pixabay.com/api/";try{const{data:r}=await L.get(t,{params:{key:n,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:o,per_page:a}});return r}catch{throw new Error("Failed to fetch images")}}function p(e){const o=document.querySelector(".gallery"),a=e.map(n=>`
      <a href="${n.largeImageURL}" class="gallery-item">
        <div class="photo-card">
          <img src="${n.webformatURL}" alt="${n.tags}" loading="lazy" />
          <div class="info">
            <p><b>Likes:</b> ${n.likes}</p>
            <p><b>Views:</b> ${n.views}</p>
            <p><b>Comments:</b> ${n.comments}</p>
            <p><b>Downloads:</b> ${n.downloads}</p>
          </div>
        </div>
      </a>
    `).join("");o.insertAdjacentHTML("beforeend",a)}function v(){const e=document.querySelector(".gallery");e.innerHTML=""}function m(){const e=document.querySelector(".loader");e.style.display="inline-block",e.classList.remove("hidden")}function l(){const e=document.querySelector(".loader");e.classList.add("hidden"),setTimeout(()=>{e.style.display="none"},300)}function g(e){console.log("Error message:",e),h.error({title:"Error",message:e,position:"topRight"})}function y(e){h.info({title:"Info",message:e,position:"topRight"})}const S=document.querySelector("#search-form"),q=document.querySelector('input[name="searchQuery"]'),s=document.createElement("button"),E=document.querySelector(".gallery-section");let c=1,i="",d=0,b=new w(".gallery a");s.textContent="Load more";s.classList.add("load-more-btn");s.style.display="none";E.appendChild(s);S.addEventListener("submit",async e=>{if(e.preventDefault(),i=q.value.trim(),!i||!/^[a-zA-Z0-9 ]+$/.test(i)){y("Please enter a valid search term using only letters, numbers, and spaces.");return}v(),c=1,d=0,s.style.display="none",m();try{const o=await f(i,c,15);if(!o.hits.length){y("Sorry, there are no images matching your search query. Please try again!"),l();return}p(o.hits),b.refresh(),d=o.totalHits,o.hits.length<d&&(s.style.display="block"),l()}catch{g("Sorry, there was an error fetching images. Please try again later."),l()}});s.addEventListener("click",async()=>{c+=1,m();try{const e=await f(i,c,15);p(e.hits),b.refresh(),c*15>=d&&(s.style.display="none",y("We're sorry, but you've reached the end of search results.")),l(),P()}catch{g("Sorry, there was an error fetching images. Please try again later."),l()}});function P(){const{height:e}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
